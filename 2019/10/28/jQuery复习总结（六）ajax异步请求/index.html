<!DOCTYPE html>
<!--[if lte IE 8 ]>
<html class="ie" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<!--
***************  *      *     *
      8          *    *       *
      8          *  *         *
      8          **           *
      8          *  *         *
      8          *    *       *
      8          *      *     *
      8          *        *   ***********    -----Theme By Kieran(http://go.kieran.top)
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
<!--<![endif]-->

<head>
  <title>jQuery复习总结（六）ajax异步请求 | Mr.Ha&#39;s blog</title>
  <!-- Meta data -->
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Mr.Ha's blog">
    <meta name="author" content="哈立势">
    <meta name="description" content="第二个我" />
    <meta name="keywords" content="blog" />

    <!-- Favicon, (keep icon in root folder) -->
    <link rel="Shortcut Icon" href="/img/favicon.ico" type="image/ico">

    <link rel="alternate" href="/atom.xml" title="Mr.Ha&#39;s blog" type="application/atom+xml">
    <link rel="stylesheet" href="/css/all.css" media="screen" type="text/css">
    
    <link rel="stylesheet" href="/highlightjs/vs.css" type="text/css">
    

    <!--[if IE 8]>
    <link rel="stylesheet" type="text/css" href="/css/ie8.css" />
    <![endif]-->

    <!-- jQuery | Load our jQuery, with an alternative source fallback to a local version if request is unavailable -->
    <script src="/js/jquery-1.11.1.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/jquery-1.11.1.min.js"><\/script>')</script>

    <!-- Load these in the <head> for quicker IE8+ load times -->
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="/js/html5shiv.min.js"></script>
    <script src="/js/respond.min.js"></script>
    <![endif]-->

  
  
  <link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="atom.xml">
  
  

  <style>.col-md-8.col-md-offset-2.opening-statement img{display:none;}</style>
</head>

<!--
<body class="post-template">
-->
<body id="index" class="lightnav animsition">

      <!-- ============================ Off-canvas navigation =========================== -->

    <div class="sb-slidebar sb-right sb-style-overlay sb-momentum-scrolling">
        <div class="sb-close" aria-label="Close Menu" aria-hidden="true">
            <img src="/img/close.png" alt="Close"/>
        </div>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu">
            <li><a href="/" class="animsition-link" title="Home">Home</a></li>
            <li><a href="/archives" class="animsition-link" title="archive">archives</a></li>
            <!-- Dropdown Menu -->
			 
            <li>
                <a class="sb-toggle-submenu">Works<span class="sb-caret"></span></a>
                <ul class="sb-submenu">
                    
                        <li><a href="/" target="_BLANK" class="animsition-link">AAA</a></li>
                    
                        <li><a href="/atom.xml" target="_BLANK" class="animsition-link">BBB</a></li>
                    
                </ul>
            </li>
            
            
            
            <li>
                <a class="sb-toggle-submenu">Links<span class="sb-caret"></span></a>
                <ul class="sb-submenu">
                    
                    <li><a href="http://haharris.com/" target="_blank" rel="noopener" class="animsition-link">Harris</a></li>
                    
                    <li><a href="http://domain.com/" target="_blank" rel="noopener" class="animsition-link">Name</a></li>
                    
                </ul>
            </li>
            
        </ul>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu secondary">
            
            <li><a href="/about.html" class="animsition-link" title="about">About</a></li>
            <li><a href="/atom.xml" class="animsition-link" title="rss">RSS</a></li>
        </ul>
    </div>
    
    <!-- ============================ END Off-canvas navigation =========================== -->

    <!-- ============================ #sb-site Main Page Wrapper =========================== -->

    <div id="sb-site">
        <!-- #sb-site - All page content should be contained within this id, except the off-canvas navigation itself -->

        <!-- ============================ Header & Logo bar =========================== -->

        <div id="navigation" class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <!-- Nav logo -->
                    <div class="logo">
                        <a href="/" title="Logo" class="animsition-link">
                         <img src="/img/logo3.png" alt="Logo" width="35px;"/> 
                        </a>
                    </div>
                    <!-- // Nav logo -->
                    <!-- Info-bar -->
                    <nav>
                        <ul class="nav">
                            <li><a href="/" class="animsition-link">Mr.Ha's blog</a></li>
                            <li class="nolink"><span>Always </span>Creative.</li>
                            
                            <li><a href="https://github.com/" title="Github" target="_blank"><i class="icon-github"></i></a></li>
                            
                            
                            <li><a href="https://twitter.com/" title="Twitter" target="_blank"><i class="icon-twitter"></i></a></li>
                            
                            
                            <li><a href="https://www.facebook.com/" title="Facebook" target="_blank"><i class="icon-facebook"></i></a></li>
                            
                            
                            <li><a href="https://google.com/" title="Google-Plus" target="_blank"><i class="icon-google-plus"></i></a></li>
                            
                            
                            <li><a href="http://weibo.com/" title="Sina-Weibo" target="_blank"><i class="icon-sina-weibo"></i></a></li>
                            
                            <li class="nolink"><span>Welcome!</span></li>
                        </ul>
                    </nav>
                    <!--// Info-bar -->
                </div>
                <!-- // .container -->
                <div class="learnmore sb-toggle-right">More</div>
                <button type="button" class="navbar-toggle menu-icon sb-toggle-right" title="More">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar before"></span>
                <span class="icon-bar main"></span>
                <span class="icon-bar after"></span>
                </button>
            </div>
            <!-- // .navbar-inner -->
        </div>

        <!-- ============================ Header & Logo bar =========================== -->


      
<section id="intro">
    <div class="container">
        <div class="row col-md-offset-2">
            <div class="col-md-8">
    			<span class="post-meta">
      <time datetime="2019-10-28T03:45:21.885Z" itemprop="datePublished">
          2019-10-28
      </time>
    
</span>
                <h1>jQuery复习总结（六）ajax异步请求</h1>
            </div>
        </div>
        <div class="col-md-8 col-md-offset-2">
      		<h1 id="ajax异步请求"><a href="#ajax异步请求" class="headerlink" title="ajax异步请求"></a>ajax异步请求</h1><h2 id="原生ajax"><a href="#原生ajax" class="headerlink" title="原生ajax"></a>原生ajax</h2><p>AJAX = Asynchronous JavaScript and XML（异步的 JavaScript 和 XML）</p>
<p>AJAX 是与服务器交换数据并更新部分网页的艺术，在不重新加载整个页面的情况下</p>
<p>通过在后台与服务器进行少量数据交换，AJAX 可以使网页实现异步更新，这意味着可以在不重新加载整个网页的情况下，对网页的某部分进行更新</p>
<p>XMLHttpRequest 是 AJAX 的基础，XMLHttpRequest 对象用于在后台与服务器交换数据</p>
<p><strong>创建 XMLHttpRequest 对象的语法：</strong></p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">variable=new XMLHttpRequest();</span><br></pre></td></tr></tbody></table></figure>
<p><strong>向服务器发送请求使用 XMLHttpRequest 对象的 open() 和 send() 方法：</strong></p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xmlhttp=new XMLHttpRequest();</span><br><span class="line">xmlhttp.open("GET","test1.txt",true);</span><br><span class="line">xmlhttp.send();</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20181215193144652.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjUwNzc1Ng==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>GET 还是 POST？<br>与 POST 相比，GET 更简单也更快，并且在大部分情况下都能用</p>
<p>然而，在以下情况中，请使用 POST 请求：</p>
<ul>
<li>无法使用缓存文件（更新服务器上的文件或数据库）</li>
<li>向服务器发送大量数据（POST 没有数据量限制）</li>
<li>发送包含未知字符的用户输入时，POST比 GET 更稳定也更可靠</li>
</ul>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">	&lt;head&gt;</span><br><span class="line">		&lt;script type="text/javascript"&gt;</span><br><span class="line">			function loadXMLDoc() {</span><br><span class="line">				var xmlhttp = new XMLHttpRequest();</span><br><span class="line">				xmlhttp.onreadystatechange = function() {</span><br><span class="line">					if (xmlhttp.readyState == 4 &amp;&amp; xmlhttp.status == 200) {</span><br><span class="line">						document.getElementById("myDiv").innerHTML = xmlhttp.responseText;</span><br><span class="line">					};</span><br><span class="line">				}</span><br><span class="line">				xmlhttp.open("GET", "text.txt", true);</span><br><span class="line">				xmlhttp.send();</span><br><span class="line">			}</span><br><span class="line">		&lt;/script&gt;</span><br><span class="line">	&lt;/head&gt;</span><br><span class="line">	&lt;body&gt;</span><br><span class="line">		&lt;h2&gt;AJAX&lt;/h2&gt;</span><br><span class="line">		&lt;button type="button" onclick="loadXMLDoc()"&gt;请求数据&lt;/button&gt;</span><br><span class="line">		&lt;div id="myDiv"&gt;&lt;/div&gt;</span><br><span class="line">	&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20181215194247190.png" alt="在这里插入图片描述"><br>text.txt是我建立在同一文件下的文本，文本里是一句话“This is ajax test!!!!”</p>
<p><strong>POST 请求</strong></p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">xmlhttp.open("POST","demo_post.asp",true);</span><br><span class="line">xmlhttp.send();</span><br></pre></td></tr></tbody></table></figure>
<p><strong>url - 服务器上的文件</strong></p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xmlhttp.open("GET","ajax_test.asp",true);</span><br></pre></td></tr></tbody></table></figure>
<p>文件可以是任何类型的文件，比如 .txt 和 .xml，或者服务器脚本文件，比如 .asp 和 .php （在传回响应之前，能够在服务器上执行任务）</p>
<p><strong>异步 - True 或 False？</strong><br>AJAX 指的是异步 JavaScript 和 XML（Asynchronous JavaScript and XML）</p>
<p>XMLHttpRequest 对象如果要用于 AJAX 的话，其 open() 方法的 async 参数必须设置为 true：</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xmlhttp.open("GET","ajax_test.asp",true);</span><br></pre></td></tr></tbody></table></figure>
<p>通过 AJAX，JavaScript 无需等待服务器的响应，而是：</p>
<ul>
<li>在等待服务器响应时执行其他脚本</li>
<li>当响应就绪后对响应进行处理</li>
</ul>
<p>即无需线程等待，可以继续执行其他脚本</p>
<p>==Async = true==<br>当使用 async=true 时，请规定在响应处于 onreadystatechange 事件中的就绪状态时执行的函数：</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">xmlhttp.onreadystatechange=function()</span><br><span class="line">  {</span><br><span class="line">  if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)</span><br><span class="line">    {</span><br><span class="line">    document.getElementById("myDiv").innerHTML=xmlhttp.responseText;</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">xmlhttp.open("GET","test1.txt",true);</span><br><span class="line">xmlhttp.send();</span><br></pre></td></tr></tbody></table></figure>
<p><strong>Async = false</strong><br>不要编写 onreadystatechange 函数 - 把代码放到 send() 语句后面即可：</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xmlhttp.open("GET","test1.txt",false);</span><br><span class="line">xmlhttp.send();</span><br><span class="line">document.getElementById("myDiv").innerHTML=xmlhttp.responseText;</span><br></pre></td></tr></tbody></table></figure>
<h2 id="服务器响应"><a href="#服务器响应" class="headerlink" title="服务器响应"></a>服务器响应</h2><p>为了获取服务器的响应，使用 XMLHttpRequest 对象的 responseText 或 responseXML 属性</p>
<ul>
<li>responseText //获得字符串形式的响应数据</li>
<li>responseXML //获得获得 XML 形式的响应数据</li>
</ul>
<p>responseText 属性返回字符串形式的响应：</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">document.getElementById("myDiv").innerHTML=xmlhttp.responseText;</span><br></pre></td></tr></tbody></table></figure>
<p>如果来自服务器的响应是 XML，而且需要作为 XML 对象进行解析，请使用 responseXML 属性：</p>
<p>举例</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">xmlDoc=xmlhttp.responseXML;</span><br><span class="line">txt="";</span><br><span class="line">x=xmlDoc.getElementsByTagName("ARTIST");</span><br><span class="line">for (i=0;i&lt;x.length;i++)</span><br><span class="line">  {</span><br><span class="line">  txt=txt + x[i].childNodes[0].nodeValue + "&lt;br /&gt;";</span><br><span class="line">  }</span><br><span class="line">document.getElementById("myDiv").innerHTML=txt;</span><br></pre></td></tr></tbody></table></figure>

<h2 id="AJAX-onreadystatechange-事件"><a href="#AJAX-onreadystatechange-事件" class="headerlink" title="AJAX - onreadystatechange 事件"></a>AJAX - onreadystatechange 事件</h2><p>当请求被发送到服务器时，我们需要执行一些基于响应的任务<br>每当 readyState 改变时，就会触发 onreadystatechange 事件<br>readyState 属性存有 XMLHttpRequest 的状态信息<br>下面是 XMLHttpRequest 对象的三个重要的属性：<br><img src="https://img-blog.csdnimg.cn/20181216201638247.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjUwNzc1Ng==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>==当 readyState 等于 4 且状态为 200 时，表示响应已就绪：==</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">xmlhttp.onreadystatechange=function()</span><br><span class="line">  {</span><br><span class="line">  if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)</span><br><span class="line">    {</span><br><span class="line">    //function</span><br><span class="line">    }</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>
<p>onreadystatechange 事件被触发 5 次（0 - 4），对应着 readyState 的每个变化</p>
<p><strong>使用 Callback 函数</strong><br>callback 函数是一种以参数形式传递给另一个函数的函数<br>如果网站上存在多个 AJAX 任务，那么应该为创建 XMLHttpRequest 对象编写一个标准的函数，并为每个 AJAX 任务调用该函数<br>该函数调用应该包含 URL 以及发生 onreadystatechange 事件时执行的任务（每次调用可能不尽相同）：</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function myFunction()</span><br><span class="line">{</span><br><span class="line">loadXMLDoc("ajax_info.txt",function()</span><br><span class="line">  {</span><br><span class="line">  if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)</span><br><span class="line">    {</span><br><span class="line">    document.getElementById("myDiv").innerHTML=xmlhttp.responseText;</span><br><span class="line">    }</span><br><span class="line">  });</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="jQuery-ajax"><a href="#jQuery-ajax" class="headerlink" title="jQuery ajax"></a>jQuery ajax</h2><p>==jQuery load() 方法==<br>load() 方法从服务器加载数据，并把返回的数据放入被选元素中</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(selector).load(URL,data,callback);</span><br></pre></td></tr></tbody></table></figure>
<p>必需的 URL 参数规定您希望加载的 URL<br>可选的 data 参数规定与请求一同发送的查询字符串键/值对集合<br>可选的 callback 参数是 load() 方法完成后所执行的函数名称</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;script src="js.js/jquery-3.2.1.min.js"&gt;&lt;/script&gt;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">$(document).ready(function(){</span><br><span class="line">  $("#btn1").click(function(){</span><br><span class="line">    $('#test').load('text.txt');</span><br><span class="line">  })</span><br><span class="line">})</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h3 id="test"&gt;请点击下面的按钮，通过 jQuery AJAX 改变这段文本。&lt;/h3&gt;</span><br><span class="line">&lt;button id="btn1" type="button"&gt;获得外部的内容&lt;/button&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20181216205235866.png" alt="在这里插入图片描述"></p>
<p>可选的 callback 参数规定当 load() 方法完成后所要允许的回调函数，回调函数可以设置不同的参数：</p>
<ul>
<li>responseTxt - 包含调用成功时的结果内容</li>
<li>statusTXT - 包含调用的状态</li>
<li>xhr - 包含XMLHttpRequest 对象</li>
</ul>
<p>举个例子，当load()方法成功，则弹出外部内容加载成功，否则弹出错误，当点击确定后完成内容更换</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;script src="js.js/jquery-3.2.1.min.js"&gt;&lt;/script&gt;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">$(document).ready(function(){</span><br><span class="line">  $("button").click(function(){</span><br><span class="line">    $("#div1").load("text.txt",function(responseTxt,statusTxt,xhr){</span><br><span class="line">      if(statusTxt=="success")</span><br><span class="line">        alert("外部内容加载成功！");</span><br><span class="line">      if(statusTxt=="error")</span><br><span class="line">        alert("Error: "+xhr.status+": "+xhr.statusText);</span><br><span class="line">    });</span><br><span class="line">  });</span><br><span class="line">});</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div id="div1"&gt;&lt;h2&gt;使用 jQuery AJAX 来改变文本&lt;/h2&gt;&lt;/div&gt;</span><br><span class="line">&lt;button&gt;获得外部内容&lt;/button&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20181216205606701.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjUwNzc1Ng==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p><strong>jQuery $.get() 方法</strong><br>$.get() 方法通过 HTTP GET 请求从服务器上请求数据</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$.get(URL,callback);</span><br></pre></td></tr></tbody></table></figure>
<p>必需的 URL 参数规定您希望请求的 URL<br>可选的 callback 参数是请求成功后所执行的函数名<br>下面的例子使用 $.get() 方法从服务器上的一个文件中取回数据：</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;script src="js.js/jquery-3.2.1.min.js"&gt;&lt;/script&gt;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">$(document).ready(function(){</span><br><span class="line">  $("button").click(function(){</span><br><span class="line">    $.get("demo.asp",function(data,status){</span><br><span class="line">      alert("数据：" + data + "\n状态：" + status);</span><br><span class="line">    });</span><br><span class="line">  });</span><br><span class="line">});</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;button&gt;向页面发送 HTTP GET 请求，然后获得返回的结果&lt;/button&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20181216213540588.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjUwNzc1Ng==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>demo.asp文件里有一句话：</p>
<pre><code>&lt;%
response.write("This is some text from an external ASP file.")
%&gt;</code></pre><p>$.get() 的第一个参数是我们希望请求的 URL（”demo.asp”）<br>第二个参数是回调函数，第一个回调参数存有被请求页面的内容，第二个回调参数存有请求的状态</p>
<p><strong>jQuery $.post() 方法</strong><br>$.post() 方法通过 HTTP POST 请求从服务器上请求数据</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$.post(URL,data,callback);</span><br></pre></td></tr></tbody></table></figure>
<p>必需的 URL 参数规定您希望请求的 URL<br>可选的 data 参数规定连同请求发送的数据<br>可选的 callback 参数是请求成功后所执行的函数名</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;script src="js.js/jquery-3.2.1.min.js"&gt;&lt;/script&gt;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">$(document).ready(function(){</span><br><span class="line">  $("button").click(function(){</span><br><span class="line">   $.post("demo.asp",</span><br><span class="line">    {</span><br><span class="line">      name:"Donald Duck",</span><br><span class="line">      city:"Duckburg"</span><br><span class="line">    },</span><br><span class="line">    function(data,status){</span><br><span class="line">      alert("数据：" + data + "\n状态：" + status);</span><br><span class="line">    });</span><br><span class="line">  });</span><br><span class="line">});</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;button&gt;向页面发送 HTTP POST 请求，并获得返回的结果&lt;/button&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20181217085403177.png" alt="在这里插入图片描述"></p>
<p>$.post() 的第一个参数是我们希望请求的 URL (“demo_test_post.asp”)<br>“demo_test_post.asp” 中的 ASP 脚本读取这些参数，对它们进行处理，然后返回结果<br>第三个参数是回调函数。第一个回调参数存有被请求页面的内容，而第二个参数存有请求的状态</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">dim fname,city</span><br><span class="line">fname=Request.Form("name")</span><br><span class="line">city=Request.Form("city")</span><br><span class="line">Response.Write("Dear " &amp; fname &amp; ". ")</span><br><span class="line">Response.Write("Hope you live well in " &amp; city &amp; ".")</span><br><span class="line">%&gt;</span><br></pre></td></tr></tbody></table></figure>

<p><strong>jQuery ajax - ajax() 方法</strong><br>ajax() 方法通过 HTTP 请求加载远程数据<br>$.ajax() 返回其创建的 XMLHttpRequest 对象</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jQuery.ajax([settings])</span><br></pre></td></tr></tbody></table></figure>
<p>==async==<br>类型：Boolean<br>默认值: true，默认设置下，所有请求均为异步请求。如果需要发送同步请求，请将此选项设置为 false<br>同步请求将锁住浏览器，用户其它操作必须等待请求完成才可以执行</p>
<p>==beforeSend(XHR)==<br>类型：Function<br>发送请求前可修改 XMLHttpRequest 对象的函数，如添加自定义 HTTP 头<br>XMLHttpRequest 对象是唯一的参数<br>这是一个 Ajax 事件，如果返回 false 可以取消本次 ajax 请求</p>
<p>==cache==<br>类型：Boolean<br>默认值: true，dataType 为 script 和 jsonp 时默认为 false<br>设置为 false 将不缓存此页面</p>
<p>==complete(XHR, TS)==<br>类型：Function<br>请求完成后回调函数 (请求成功或失败之后均调用)<br>参数： XMLHttpRequest 对象和一个描述请求类型的字符串<br>这是一个 Ajax 事件</p>
<p>==contentType==<br>类型：String<br>默认值: “application/x-www-form-urlencoded”。发送信息至服务器时内容编码类型<br>默认值适合大多数情况。如果你明确地传递了一个 content-type 给 $.ajax() 那么它必定会发送给服务器（即使没有数据要发送）</p>
<p>==context==<br>类型：Object<br>这个对象用于设置 Ajax 相关回调函数的上下文。也就是说，让回调函数内 this 指向这个对象（如果不设定这个参数，那么 this 就指向调用本次 AJAX 请求时传递的 options 参数）<br>比如指定一个 DOM 元素作为 context 参数，这样就设置了 success 回调函数的上下文为这个 DOM 元素</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$.ajax({ url: "test.html", context: document.body, success: function(){</span><br><span class="line">        $(this).addClass("done");</span><br><span class="line">      }});</span><br></pre></td></tr></tbody></table></figure>
<p>意思就是制定了context后，$(this)里的this就是context里制定的，也就是success回调函数要作用的上下文</p>
<p>==data==<br>类型：String<br>发送到服务器的数据，将自动转换为请求字符串格式<br>GET 请求中将附加在 URL 后，查看 processData 选项说明以禁止此自动转换<br>必须为 Key/Value 格式，如果为数组，jQuery 将自动为不同值对应同一个名称，如 <code>{foo:["bar1", "bar2"]}</code> 转换为 <code>'&amp;foo=bar1&amp;foo=bar2'</code></p>
<p>==dataType==<br>类型：String<br>预期服务器返回的数据类型，如果不指定，jQuery 将自动根据 HTTP 包 MIME 信息来智能判断，比如 XML MIME 类型就被识别为 XML，JSON 就会生成一个 JavaScript 对象，而 script 则会执行这个脚本。随后服务器端返回的数据会根据这个值解析后，传递给回调函数</p>
<p>可用值:</p>
<ul>
<li>==xml==： 返回 XML 文档，可用 jQuery 处理</li>
<li>==html==： 返回纯文本 HTML 信息，包含的 script标签会在插入 dom 时执行</li>
<li>==script==：返回纯文本 JavaScript 代码，不会自动缓存结果，除非设置了 “cache”参数。注意：在远程请求时(不在同一个域下)，所有 POST 请求都将转为 GET 请求。（因为将使用 DOM 的 script标签来加载）</li>
<li>==jso==： 返回 JSON 数据</li>
<li>==json==：JSONP 格式，使用 JSONP 形式调用函数时，如<code>"myurl?callback=?"</code> jQuery 将自动替换 ? 为正确的函数名，以执行回调函数</li>
<li>==text==： 返回纯文本字符串</li>
</ul>
<p>==error==<br>类型：Function<br>默认值： 自动判断 (xml 或 html)，请求失败时调用此函数<br>有以下三个参数：XMLHttpRequest 对象、错误信息、（可选）捕获的异常对象<br>如果发生了错误，错误信息（第二个参数）除了得到 null 之外，还可能是 “timeout”,，“error”,，“notmodified” 和 “parsererror”</p>
<p><img src="https://img-blog.csdnimg.cn/20181217133746167.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjUwNzc1Ng==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p><img src="https://img-blog.csdnimg.cn/20181217134006911.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjUwNzc1Ng==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p><img src="https://img-blog.csdnimg.cn/20181217134034343.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjUwNzc1Ng==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>举例：</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;title&gt;JQuery AJAX&lt;/title&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;div id="result"&gt;before ajax&lt;/div&gt;</span><br><span class="line">        &lt;button&gt;Click me&lt;/button&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">    &lt;script src="../../js/jquery-3.2.1.min.js"&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script type="text/javascript"&gt;</span><br><span class="line">    $(document).ready(function(){</span><br><span class="line">        $('button').on('click', function() {</span><br><span class="line">            $.ajax({</span><br><span class="line">               url: 'http://api.joind.in/v2.1/talks/10889',</span><br><span class="line">               data: {</span><br><span class="line">                  format: 'json'</span><br><span class="line">               },</span><br><span class="line">               error: function() {</span><br><span class="line">               },</span><br><span class="line">               dataType: 'jsonp',</span><br><span class="line">               success: function(data) {</span><br><span class="line">                    console.log('a');</span><br><span class="line">               },</span><br><span class="line">               async: false,</span><br><span class="line">               type: 'GET'</span><br><span class="line">            });</span><br><span class="line">            console.log('b');</span><br><span class="line">        });</span><br><span class="line">    });</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20181217134906208.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjUwNzc1Ng==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20181217134930333.png" alt="在这里插入图片描述"><br>a延迟于b输出</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
            <div class="clearfix"></div>
            <hr class="nogutter">
        </div>
        <nav class="m-pagination col-md-8 col-md-offset-2 col-sm-24" role="pagination">
    
    <a class="pull-left" href="/2019/10/28/jQuery%E5%A4%8D%E4%B9%A0%E6%80%BB%E7%BB%93%EF%BC%88%E4%B8%83%EF%BC%89UI%E5%B0%8F%E9%83%A8%E4%BB%B6/" style="float: left;">
        ← jQuery复习总结（七）UI小部件
    </a>
    
    
    <a class="pull-right" href="/2019/10/28/jQuery%E5%A4%8D%E4%B9%A0%E6%80%BB%E7%BB%93%EF%BC%88%E4%BA%94%EF%BC%89%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/">
        jQuery复习总结（五）动画效果 →
    </a>
    
</nav>

        <div class="col-md-8 col-md-offset-2 col-sm-24"><script type="text/javascript">
  /**
   * 搜狐畅言
   */

  /*
  document.write('<div id="SOHUCS" sid="' + window.location.pathname.slice(1) + '" ></div>');

  window.onload = function () {
    (function () {
      var appid = 'cytXXXX';
      var conf = 'prod_xxxxxxxxxxxxxxxxx';
      var width = window.innerWidth || document.documentElement.clientWidth;
      var loadJs = function (d, a, id) {
        var c = document.getElementsByTagName("head")[0] || document.head || document.documentElement;
        var b = document.createElement("script");
        b.setAttribute("type", "text/javascript");
        b.setAttribute("charset", "UTF-8");
        b.setAttribute("src", d);
        if (id) {
          b.setAttribute("id", id);
        }
        if (typeof a === "function") {
          if (window.attachEvent) {
            b.onreadystatechange = function () {
              var e = b.readyState;
              if (e === "loaded" || e === "complete") {
                b.onreadystatechange = null;
                a()
              }
            }
          } else {
            b.onload = a
          }
        }
        c.appendChild(b)
      };

      loadJs("https://changyan.sohu.com/upload/changyan.js", function () {
        window.changyan.api.config({
          appid: appid,
          conf: conf
        })
      });
    })();
  }
  */

</script>
</div>
    </div>
</section>


      
<!-- ============================ Footer =========================== -->

<footer>
    <div class="container">
            <div class="copy">
                <p>
                    &copy; 2015<script>new Date().getFullYear()>2010&&document.write("-"+new Date().getFullYear());</script>, Content By 哈立势. All Rights Reserved.
                </p>
                <p>Theme By <a href="//haharris.com" style="color: #767D84">Harris</a></p>
            </div>
            <div class="social">
                <ul>
                    
                    <li><a href="https://github.com/" title="Github" target="_blank"><i class="icon-github"></i></a>&nbsp;</li>
                    
                    
                    <li><a href="https://twitter.com/" title="Twitter" target="_blank"><i class="icon-twitter"></i></a>&nbsp;</li>
                    
                    
                    <li><a href="https://www.facebook.com/" title="Facebook" target="_blank"><i class="icon-facebook"></i></a>&nbsp;</li>
                    
                    
                    <li><a href="https://google.com/" title="Google-Plus" target="_blank"><i class="icon-google-plus"></i></a>&nbsp;</li>
                    
                    
                    <li><a href="http://weibo.com/" title="Sina-Weibo" target="_blank"><i class="icon-sina-weibo"></i></a>&nbsp;</li>
                    
                </ul>
            </div>
            <div class="clearfix"> </div>
        </div>
</footer>

<!-- ============================ END Footer =========================== -->

      <!-- Load our scripts -->
<!-- Resizable 'on-demand' full-height hero -->
<script type="text/javascript">
    var resizeHero = function () {
        var hero = $(".cover,.heightblock"),
            window1 = $(window);
        hero.css({
            "height": window1.height()
        });
    };

    resizeHero();

    $(window).resize(function () {
        resizeHero();
    });
</script>
<script src="/js/plugins.min.js"></script><!-- Bootstrap core and concatenated plugins always load here -->
<script src="/js/scripts.js"></script><!-- Theme scripts -->


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$('#intro').find('img').each(function(){
  var alt = this.alt;

  if (alt){
    $(this).after('<span class="caption" style="display:none">' + alt + '</span>');
  }

  $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="gallery" />');
});
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



      
</body>
</html>
